# c Sharp

## Overview

This directory contains the bindings for the c# dotnet project. There are two sub directories, `csharp_code` and `rust_code`.

- `rust_code` contains a rust crate that will call csbindgen to build the c# header file needed to allow the dynamic library built from the FFI code in `bindings/c` to communicate with the c# dotnet project in `csharp_code`.

 > The autogenerated file is called `native_methods.g.cs` and is copied into the `csharp_code` directory.

- `csharp_code` contains the csharp code that will expose an API allowing dotnet projects to execute DAS related methods.

## Building

There are two steps to building:

- Building the dynamic library
- Building the csharp code

### Building the dynamic library

These easiest way to build the dynamic library, is to call `scripts/compile.sh`. This is located at the root of the directory. Calling this script will compile the necessary code for your platform and copy the dynamic library into the relevant directory in `csharp_code`. This is the runtimes `folder`.

Once the script has been called, one can view the code in `csharp_code` as being self-contained.

### Building the c# code

Once the dynamic library has been built and copied into `csharp_code`, the instructions to build the c# project follow a regular dotnet project:

```
dotnet build
```

## Testing

Given that we have successfully built the dynamic lib and installed all of the dependencies using `dotnet build`. To test, we can run:

```
dotnet test
```

## Supported Platforms

We currently support:

- Windows x86_64
- Linux (x86_64 and arm64)
- Mac (x86_64 and arm64)
